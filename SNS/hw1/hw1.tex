\documentclass[12pt, letterpaper, oneside, notitlepage, onecolumn]{article}
\author{William Baskin}
\title{Homework 1 - EMAE477}
\pagestyle{plain}

\usepackage{parskip}

\usepackage{textcomp}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{listings}
\usepackage{color}
\usepackage{verbatim}
\usepackage{soul}
\usepackage[margin=0.69in]{geometry}

% math
\usepackage{amsmath, amssymb}
%, amsthm, gensymb}

\usepackage{graphicx}
\graphicspath{ {Baskin_HW1/} }
% \includegraphics[height=6.75in,angle=270]{HW25}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Matlab,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

\DeclareMathOperator*{\argmax}{arg\,max}

\DeclareMathOperator*{\argmin}{arg\,min}

\begin{document}
\maketitle

\section*{Question 1}

% \includegraphics[width=7in,angle=0]{hw1p7_2}

$E_{r} = -60mV$
$R = 20mV$

\subsection{Signal Transmission Design Equations}

$g_{syn} = \dfrac{k_{syn} * R}{\Delta E_{syn} - k_{syn} * U_{pre}}$

$U_{pre} = R$

$\Delta E_{syn} - k_{syn} * U_{pre} = \dfrac{k_{syn} * R}{g_{syn}}$

$\Delta E_{syn} = \dfrac{k_{syn} * R}{g_{syn}} + k_{syn} * U_{pre}$

Choosing $k_{syn} = 1$ for now because its a value used on the slides and I
don't have a reason to change it. 

\subsubsection{$g = 0.1$}

$\Delta E_{syn} = \dfrac{k_{syn} * 20}{0.1} + k_{syn} * 20$

$\Delta E_{syn} = k_{syn} * (220)$

\subsubsection{$g = 0.5$}

$\Delta E_{syn} = \dfrac{k_{syn} * 20}{0.5} + k_{syn} * 20$

$\Delta E_{syn} = k_{syn} * (60)$

\subsubsection{$g = 2.5$}

$\Delta E_{syn} = \dfrac{k_{syn} * 20}{2.5} + k_{syn} * 20$

$\Delta E_{syn} = k_{syn} * (28)$

% TODO(buckbaskin) check if the following holds water
Increasing $g_{syn}$ decreases the relative effect of $R$ on $\Delta E_{syn}$

\subsection{Plot of Output Neurons}

\includegraphics[width=6.75in,angle=0]{Part1Data}

The axis on the left is membrane voltage in Volts. The three outputs have increasing conductivity for the synapse connecting the input neuron to the output neuron.

\subsubsection{Analysis}

Do they all have the same accuracy? Does one synaptic property or another
correlate to the error? Are they all the least accurate at the same voltage 
of the input neuron? Can you manipulate the signal transmission design 
equations to calculate where the maximum error occurs (i.e. at what input 
neuron voltage), and/or what the maximum error amount will be?

Output 1 and Output 2 linearly track the input, with Output 2 tracking at approximately 5-5.5x the input. Output 3 shows a significant component that is not proportional to the input, going from 25x in the first second to less than 10x in the last second plotted. This would indicate their are some likely non-proportional components to Output 2 as well, but they are much smaller in the range studied. If error is the measured difference between the expected proportional output and the actual output, error increases with conductivity/the proportional gain (its sign is negative).

The proportional gain appears to be approximately $\dfrac{g_{syn}}{0.1}$.

\section{Question 2}

\subsection{Signal Modulation Equations}

$g_{syn} = \dfrac{c_{syn} * R - R}{\Delta E_{syn} - c_{syn} * R}$

$E_{r} = -60mV$

$R = 20mV$

$0 < c < 1$

\subsubsection{$\Delta E_{syn} = 0$}

$g_{syn} = \dfrac{c_{syn} * 20 - 20}{0 - c_{syn} * 20}$

$g_{syn} = -R * \dfrac{1 - c_{syn}}{c_{syn}}$

$c_{syn} < 1$ so the top portion of the fraction is less than 1 and positive.
This makes the entire expression (and the value for $g_{syn}$) negative
regardless of the exact value of $c_{syn}$.

\subsubsection{$\Delta E_{syn} = c_{syn} * R$}

$g_{syn} = \dfrac{c_{syn} * R - R}{c_{syn} * R - c_{syn} * R}$

$g_{syn} = \dfrac{R * (c_{syn} - 1)}{0}$

This value for $\Delta E_{syn} = c_{syn} * R$ causes a divide-by-zero.

\subsubsection{$\Delta E_{syn} = -c_{syn} * R$}

$g_{syn} = \dfrac{c_{syn} * R - R}{-c_{syn} * R - c_{syn} * R}$

$g_{syn} = -R * \dfrac{1 - c_{syn}}{2 c_{syn}}$

The value for $g_{syn}$ is negative.

\subsubsection{Keeping $g_{syn} > 0$}

$0 < \dfrac{c_{syn} * R - R}{\Delta E_{syn} - c_{syn} * R}$

To ensure $g_{syn}$ is valid.

$0 \neq \Delta E_{syn} - c_{syn} * R$

$\Delta E_{syn} \neq c_{syn} * R$

To ensure $g_{syn} > 0$

$0 < c_{syn} * R - R$

$R < c_{syn} * R$

$R \neq 0$

$c_{syn} > 1$

% TODO(buckbaskin): check this math because it says that its invalid

\subsection{Plot of 3 Valid Neurons}

% TODO(buckbaskin)

\subsection{Analysis}

What is the ratio between the maximum and minimum voltage of each output
neuron? Are they all the same? Are there any other differences in the response
of the output neurons? Next, change the tonic stimulus of each output neuron 
to R/2, and re-run the simulation. What is the ratio between the maximum and 
minimum voltage of each output neuron, now? Are they all the same? Can you 
derive constraint equations to make sure that this ratio is always the
same, no matter the tonic stimulus of the output neuron?

Hint: pay attention to the numerator of $U^{*}_{post}$ (slide 26).

% TODO(buckbaskin): Do this

\section{Question 3}

\end{document}
